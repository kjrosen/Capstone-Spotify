<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="/static/css/style.css">
		<link rel="icon" type="image/x-icon" href="/static/images/spotibanana.png">
		<!-- lets me embed spotify playlists on the page -->
		<!-- <script src="https://open.spotify.com/embed-playlist/iframe-api/v1" async></script> -->

		<!-- The package that makes React work -->
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"></script>
		<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script> -->

		<title>{% block head %}  {% endblock%}</title>
	</head>
    <body>
			<div id="header">
				<a href="/">Playlist Maker</a>
			</div>

			<div id="navbar">

				<!-- Check session data to show either
				A - link to my playlists and logout indicator -->
				{% if session['login'] != False %}
					<a href="/mine">My Playlists</a>
					<a href="/logout">Log out</a>
				<!-- B - an event target to show the login route 
				event in navbar.js -->
				{% else %}
					<span id="joiner">Join</span>
				{% endif %}

			</div>


			<div id="result-boxes">
				<!-- Left block shows search results -->
				<span id="left-block"><div>{% block left %} {% endblock %}</div></span>
				<!-- Right block shows input forms -->
				<span id="right-block">
					<div id="flash">
						<ul>
							<!-- Flash any messages (login info) -->
						{% for message in get_flashed_messages() %}
						  <li>{{ message }}</li>
						{% endfor %}
						</ul>
					</div>
					<!-- Uses Navbar.js events to send fetch request
					Generates an embedded Spotify playlist in Left 
					Create a like button on Right-->
					<form id="make" action="/make" method="POST">
						<label>
							<input type="text" name="new"><br>
							<button type="submit">Write</button><br>
						</label>
					</form>
					<br>
					<!-- Uses Navbar.js events to send fetch request
					Generates list of playlists-->
					<form id="search">
						<label>
							<input type="text" id="query"><br>
							<button type="submit">Search</button><br>
						</label>
					</form>
					<!-- Navbar.js will fill with login forms
					otherwise stay empty -->
					<form id="login" action="/login" method="POST">

					</form>
					<form id="sing-up" action="/join" methods="POST">

					</form>
					<span id="search-embed">
					</span>
					<span id="like"></span>
					<div>{% block right %} {% endblock %}</div></span>
			</div>
    </body>
	<footer id="foot">
		<!-- if the user is logged in - so js doesn't complain -->
		{% if session['login'] != False %} 
			<span id="joiner"></span> 
		{% endif %}
		<script src="/static/js/navbar.js"></script>
		{% block foot %}
		
		{% endblock %}
	</footer>
</html>
